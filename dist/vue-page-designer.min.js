!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):t.vuePageDesigner=e(t.Vue)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e,i,n=(function(t){t.exports=function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=9)}([function(t,e){t.exports=function(t,e,i,n,a,o){var s,r=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(s=t,r=t.default);var c,v="function"==typeof r?r.options:r;if(e&&(v.render=e.render,v.staticRenderFns=e.staticRenderFns,v._compiled=!0),i&&(v.functional=!0),a&&(v._scopeId=a),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},v._ssrRegister=c):n&&(c=n),c){var d=v.functional,u=d?v.render:v.beforeCreate;d?(v._injectStyles=c,v.render=function(t,e){return c.call(e),u(t,e)}):v.beforeCreate=u?[].concat(u,c):[c]}return{esModule:s,exports:r,options:v}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var a=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(o).concat([a]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(n[o]=!0)}for(a=0;a<t.length;a++){var s=t[a];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),e.push(s))}},e}},function(t,e,i){function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=c[i.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](i.parts[a]);for(;a<i.parts.length;a++)n.parts.push(o(i.parts[a]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(o(i.parts[a]));c[i.id]={id:i.id,refs:1,parts:s}}}}function a(){var t=document.createElement("style");return t.type="text/css",v.appendChild(t),t}function o(t){var e,i,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(p)return m;n.parentNode.removeChild(n)}if(h){var o=u++;n=d||(d=a()),e=s.bind(null,n,o,!1),i=s.bind(null,n,o,!0)}else n=a(),e=function(t,e){var i=e.css,n=e.media,a=e.sourceMap;if(n&&t.setAttribute("media",n),a&&(i+="\n/*# sourceURL="+a.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}function s(t,e,i,n){var a=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=f(e,a);else{var o=document.createTextNode(a),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=i(15),c={},v=r&&(document.head||document.getElementsByTagName("head")[0]),d=null,u=0,p=!1,m=function(){},h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,i){p=i;var a=l(t,e);return n(a),function(e){for(var i=[],o=0;o<a.length;o++){var s=a[o];(r=c[s.id]).refs--,i.push(r)}for(e?n(a=l(t,e)):a=[],o=0;o<i.length;o++){var r;if(0===(r=i[o]).refs){for(var v=0;v<r.parts.length;v++)r.parts[v]();delete c[r.id]}}}};var f=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){e.a={name:"braid-bg",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-smartphone"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12" y2="18"></line></svg>',title:"背景图",panel:null,setting:{type:"braid-bg",isContainer:!1,hasGuide:!1,isUpload:!0,isChild:!1,dragable:!1,resizable:!1,href:"",belong:"page"},props:["val"]}},function(t,e,i){e.a={name:"braid-pic",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>',title:"图片",panel:null,setting:{type:"braid-pic",isContainer:!1,isUpload:!0,hasGuide:!0,isChild:!0,dragable:!0,resizable:!0,left:0,z:0,href:"",belong:"page",animationName:""},props:["val","w","h","playState"]}},function(t,e,i){var n=i(20);e.a={name:"braid-txt",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-type"><polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line></svg>',title:"文本",panel:n.a,setting:{type:"braid-txt",isContainer:!1,isUpload:!1,hasGuide:!0,isChild:!0,dragable:!0,resizable:!0,width:650,height:100,left:50,top:0,z:0,lineHeight:1.6,fontSize:1.2,fontWeight:!1,color:"#000000",textAlign:"left",text:"文本",href:"",belong:"page",animationName:""},props:["val","h","w","playState"],methods:{updateText:function(t,e){var i=t.target.innerHTML;this.$vpd.commit("updateData",{uuid:e,key:"text",value:i})}}}},function(t,e,i){e.a={name:"braid-txt-style",props:["activeElement"]}},function(t,e,i){var n=i(26),a="braid-container";e.a={name:a,icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layout"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>',title:"容器",panel:n.a,setting:{type:a,isContainer:!0,hasGuide:!0,isUpload:!1,isChild:!1,dragable:!0,resizable:!0,name:"",width:650,height:300,left:50,top:0,z:0,display:"flex",bgColor:"",backPic:"",backPicUrl:"",radius:0,borderColor:"",borderWidth:0,dir:"row",justify:"flex-start",align:"flex-start",belong:"page",animationName:""},props:["h","val","playState"]}},function(t,e,i){e.a={name:"braid-container-style",props:["activeElement"],methods:{addPic:function(){var t=this;this.$vpd.$emit("upload",function(e){t.$vpd.commit("addContainerBackPic",e)})}}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(10),a=i(12),o=i(17),s=i(23);e.default={[n.a.name]:n.a,[a.a.name]:a.a,[o.a.name]:o.a,[s.a.name]:s.a}},function(t,e,i){var n=i(3),a=i(11),o=i(0)(n.a,a.a,!1,null,null,null);o.options.__file="src/bg/index.vue",e.a=o.exports},function(t,e,i){var n=function(){var t=this.$createElement;return(this._self._c||t)("img",{attrs:{width:"100%",src:this.val.url}})};n._withStripped=!0;var a={render:n,staticRenderFns:[]};e.a=a},function(t,e,i){var n=i(4),a=i(16),o=i(0)(n.a,a.a,!1,function(t){i(13)},"data-v-04cf7604",null);o.options.__file="src/pic/index.vue",e.a=o.exports},function(t,e,i){var n=i(14);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("6f2e58e8",n,!1)},function(t,e,i){(t.exports=i(1)(void 0)).push([t.i,"\n.lz-image img[data-v-04cf7604] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  user-select: none;\n  -webkit-user-drag: none;\n  pointer-events: none;\n}\n",""])},function(t,e){t.exports=function(t,e){for(var i=[],n={},a=0;a<e.length;a++){var o=e[a],s=o[0],r={id:t+":"+a,css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(r):i.push(n[s]={id:s,parts:[r]})}return i}},function(t,e,i){var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lz-image",class:[this.playState?"anm-"+this.val.animationName:""],style:{position:"page"===this.val.belong?"absolute":"relative",width:this.val.width/this.w*100+"%",height:this.val.height/this.h*100+"%",left:"page"===this.val.belong?this.val.left/this.w*100+"%":"0",top:"page"===this.val.belong?this.val.top/this.h*100+"%":"0",zIndex:this.val.z}},[e("img",{attrs:{src:this.val.url}})])};n._withStripped=!0;var a={render:n,staticRenderFns:[]};e.a=a},function(t,e,i){var n=i(5),a=i(22),o=i(0)(n.a,a.a,!1,function(t){i(18)},"data-v-15741f6a",null);o.options.__file="src/txt/index.vue",e.a=o.exports},function(t,e,i){var n=i(19);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("288d041f",n,!1)},function(t,e,i){(t.exports=i(1)(void 0)).push([t.i,"\n.txt[data-v-15741f6a] {\n  outline: none;\n  font-size: 28px;\n}\n",""])},function(t,e,i){var n=i(6),a=i(21),o=i(0)(n.a,a.a,!1,null,null,null);o.options.__file="src/txt/style.vue",e.a=o.exports},function(t,e,i){var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("hr"),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("vpd-icon",{attrs:{name:"sliders"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("行高")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.lineHeight))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("vpd-slider",{attrs:{max:5,min:1},model:{value:t.activeElement.lineHeight,callback:function(e){t.$set(t.activeElement,"lineHeight",e)},expression:"activeElement.lineHeight"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("vpd-icon",{attrs:{name:"type"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("字号")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.fontSize)+"rem")]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("vpd-slider",{attrs:{step:.01,max:2,min:.85},model:{value:t.activeElement.fontSize,callback:function(e){t.$set(t.activeElement,"fontSize",e)},expression:"activeElement.fontSize"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("vpd-icon",{attrs:{name:"edit-3"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("颜色")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.color))]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.color,expression:"activeElement.color"}],attrs:{type:"color"},domProps:{value:t.activeElement.color},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"color",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("vpd-icon",{attrs:{name:"bold"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("加粗")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("label",{staticClass:"form-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.fontWeight,expression:"activeElement.fontWeight"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.activeElement.fontWeight)?t._i(t.activeElement.fontWeight,null)>-1:t.activeElement.fontWeight},on:{change:function(e){var i=t.activeElement.fontWeight,n=e.target,a=!!n.checked;if(Array.isArray(i)){var o=t._i(i,null);n.checked?o<0&&(t.activeElement.fontWeight=i.concat([null])):o>-1&&(t.activeElement.fontWeight=i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.activeElement,"fontWeight",a)}}}),t._v(" "),i("i",{staticClass:"form-icon"})])])],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("vpd-icon",{attrs:{name:"align-justify"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("对齐")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("label",{staticClass:"form-radio tooltip",attrs:{"data-tooltip":"左对齐"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.textAlign,expression:"activeElement.textAlign"}],attrs:{type:"radio",name:"align",value:"left"},domProps:{checked:t._q(t.activeElement.textAlign,"left")},on:{change:function(e){t.$set(t.activeElement,"textAlign","left")}}}),t._v(" "),i("i",{staticClass:"form-icon"}),t._v(" "),i("vpd-icon",{attrs:{name:"align-left"}})],1),t._v(" "),i("label",{staticClass:"form-radio tooltip",attrs:{"data-tooltip":"居中"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.textAlign,expression:"activeElement.textAlign"}],attrs:{type:"radio",name:"align",value:"center"},domProps:{checked:t._q(t.activeElement.textAlign,"center")},on:{change:function(e){t.$set(t.activeElement,"textAlign","center")}}}),t._v(" "),i("i",{staticClass:"form-icon"}),t._v(" "),i("vpd-icon",{attrs:{name:"align-center"}})],1),t._v(" "),i("label",{staticClass:"form-radio tooltip",attrs:{"data-tooltip":"右对齐"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.textAlign,expression:"activeElement.textAlign"}],attrs:{type:"radio",name:"align",value:"right"},domProps:{checked:t._q(t.activeElement.textAlign,"right")},on:{change:function(e){t.$set(t.activeElement,"textAlign","right")}}}),t._v(" "),i("i",{staticClass:"form-icon"}),t._v(" "),i("vpd-icon",{attrs:{name:"align-center"}})],1)])],1)])};n._withStripped=!0;var a={render:n,staticRenderFns:[]};e.a=a},function(t,e,i){var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"txt",class:[t.playState?"anm-"+t.val.animationName:""],style:{position:"page"===t.val.belong?"absolute":"relative",left:"page"===t.val.belong?t.val.left/t.w*100+"%":"0",top:"page"===t.val.belong?t.val.top/t.h*100+"%":"0",width:t.val.width/t.w*100+"%",minHeight:t.val.height/t.h*100+"%",zIndex:t.val.z,lineHeight:t.val.lineHeight,fontSize:t.val.fontSize+"rem",color:t.val.color,textAlign:t.val.textAlign,fontWeight:t.val.fontWeight?"bold":"normal"},attrs:{contenteditable:"true"},domProps:{innerHTML:t._s(t.val.text)},on:{blur:function(e){return t.updateText(e,t.val.uuid)}}})};n._withStripped=!0;var a={render:n,staticRenderFns:[]};e.a=a},function(t,e,i){var n=i(7),a=i(28),o=i(0)(n.a,a.a,!1,function(t){i(24)},"data-v-0590360a",null);o.options.__file="src/container/index.vue",e.a=o.exports},function(t,e,i){var n=i(25);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("7898cf0e",n,!1)},function(t,e,i){(t.exports=i(1)(void 0)).push([t.i,"\n.lz-container[data-v-0590360a] {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100%;\n}\n",""])},function(t,e,i){var n=i(8),a=i(27),o=i(0)(n.a,a.a,!1,null,null,null);o.options.__file="src/container/style.vue",e.a=o.exports},function(t,e,i){var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("hr"),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"credit-card"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("容器名称")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.activeElement.name,expression:"activeElement.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"容器名称必填"},domProps:{value:t.activeElement.name},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"grid"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("display")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.display,expression:"activeElement.display"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"display",e.target.multiple?i:i[0])}}},[i("option",[t._v("flex")]),t._v(" "),i("option",[t._v("block")])])])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"flex"===t.activeElement.display,expression:"activeElement.display === 'flex'"}],staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"shuffle"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("主轴方向")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.dir,expression:"activeElement.dir"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"dir",e.target.multiple?i:i[0])}}},[i("option",[t._v("row")]),t._v(" "),i("option",[t._v("row-reverse")]),t._v(" "),i("option",[t._v("column")]),t._v(" "),i("option",[t._v("column-reverse")])])])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"flex"===t.activeElement.display,expression:"activeElement.display === 'flex'"}],staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"align-justify"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("主轴分布")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.justify,expression:"activeElement.justify"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"justify",e.target.multiple?i:i[0])}}},[i("option",[t._v("flex-start")]),t._v(" "),i("option",[t._v("space-between")]),t._v(" "),i("option",[t._v("center")]),t._v(" "),i("option",[t._v("space-around")]),t._v(" "),i("option",[t._v("flex-end")])])])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"flex"===t.activeElement.display,expression:"activeElement.display === 'flex'"}],staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"align-center"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("侧轴分布")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.align,expression:"activeElement.align"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"align",e.target.multiple?i:i[0])}}},[i("option",[t._v("flex-start")]),t._v(" "),i("option",[t._v("center")]),t._v(" "),i("option",[t._v("flex-end")])])])],1),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"target"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("背景色")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.bgColor))]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.bgColor,expression:"activeElement.bgColor"}],attrs:{type:"color"},domProps:{value:t.activeElement.bgColor},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"bgColor",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"image"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("背景图")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("div",{staticClass:"panel-preview",style:{backgroundImage:"url("+t.activeElement.backPic+")"},on:{click:t.addPic}},[i("vpd-icon",{directives:[{name:"show",rawName:"v-show",value:!t.activeElement.backPic,expression:"!activeElement.backPic"}],attrs:{name:"plus"}})],1)])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"square"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("圆角")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.radius,expression:"activeElement.radius"}],attrs:{type:"text"},domProps:{value:t.activeElement.radius},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"radius",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"maximize"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("边的宽度")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.borderWidth,expression:"activeElement.borderWidth"}],attrs:{type:"text"},domProps:{value:t.activeElement.borderWidth},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"borderWidth",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"edit-3"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("边的颜色")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.borderColor))]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.borderColor,expression:"activeElement.borderColor"}],attrs:{type:"color"},domProps:{value:t.activeElement.borderColor},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"borderColor",e.target.value)}}})])],1)])};n._withStripped=!0;var a={render:n,staticRenderFns:[]};e.a=a},function(t,e,i){var n=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"lz-container",class:[this.playState?"anm-"+this.val.animationName:""],style:{display:this.val.display,position:"absolute",width:this.val.width/7.5+"%",height:this.val.height/this.h*100+"%",left:this.val.left/7.5+"%",top:this.val.top/this.h*100+"%",zIndex:this.val.z,backgroundColor:this.val.bgColor,backgroundImage:"url("+this.val.backPic+")",borderStyle:"solid",borderRadius:this.val.radius+"px",borderColor:this.val.borderColor,borderWidth:this.val.borderWidth+"px",flexDirection:this.val.dir,justifyContent:this.val.justify,alignItems:this.val.align}},[this._t("default")],2)};n._withStripped=!0;var a={render:n,staticRenderFns:[]};e.a=a}])}(e={exports:{}},e.exports),e.exports),a=(i=n)&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;function o(t,e){return"function"==typeof e?e:t[e]}function s(t){return Array.isArray(t)?t.map(function(t){return{k:t,v:t}}):Object.keys(t).map(function(e){return{k:e,v:t[e]}})}var r=function(t,e,i){return function(n){var a={},o=s(n),r=function(n){var s=o[n];a[n]=function(n){var a=i||this.$vpd,o=a[t],r=a[e],l="function"==typeof s?s.call(this,o):s;return r.call(a,l,n)}};for(var l in o)r(l);return a}},l=function(e){var i=this;void 0===e&&(e={});var n=e.state,a=e.mutations;void 0===a&&(a={});var o=e.actions;void 0===o&&(o={});var l,c=e.plugins,v=e.subscribers;void 0===v&&(v=[]),this.vm=new t({data:{$$state:"function"==typeof n?n():n}}),this.mutations=a,this.actions=o,this.subscribers=v,c&&c.forEach(function(t){return i.use(t)}),this.mapState=(l=this,function(t){var e={},i=s(t),n=function(t){var n=i[t];e[t]=function(){var t=l||this.$vpd;return"function"==typeof n?n.call(this,t.state):t.state[n]}};for(var a in i)n(a);return e}),this.mapActions=r("actions","dispatch",this),this.mapMutations=r("mutations","commit",this)},c={state:{configurable:!0}};c.state.get=function(){return this.vm.$data.$$state},c.state.set=function(t){},l.prototype.$emit=function(t){for(var e,i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];return(e=this.vm).$emit.apply(e,[t].concat(i))},l.prototype.$on=function(t,e){return this.vm.$on(t,e)},l.prototype.subscribe=function(t){var e=this;return this.subscribers.push(t),function(){return e.subscribers.splice(e.subscribers.indexOf(t),1)}},l.prototype.commit=function(t,e){var i=this;this.subscribers.forEach(function(n){return n({type:t,payload:e},i.state)});var n=o(this.mutations,t);return n&&n(this.state,e)},l.prototype.dispatch=function(t,e){var i=o(this.actions,t),n={state:this.state,dispatch:this.dispatch.bind(this),commit:this.commit.bind(this),store:this};return Promise.resolve(i&&i(n,e))},l.prototype.use=function(t){return t(this),this},l.prototype.replaceState=function(t){return this.vm.$data.$$state=t,this},Object.defineProperties(l.prototype,c);var v,d=require("nanoid/generate"),u=new l({state:{top:0,zoom:64,type:"page",index:-1,uuid:null,counter:0,originX:0,originY:0,startX:0,startY:0,moving:!1,animation:[],playState:!1,activeElement:{},page:{page:!0,title:"自定義頁面",height:1100,backgroundColor:"#ffffff"},widgets:[]},actions:{addWidget:function(t,e){var i=t.state,n=t.commit,a=t.store;e.setting.isUpload?a.$emit("upload",function(t){n("addWidget",{data:t,item:e})},!0):(n("addWidget",{item:e}),n("select",{uuid:i.widgets[i.widgets.length-1].uuid}))},save:function(t){var e=t.state;t.store.$emit("save",e)},preview:function(t){var e=t.state;t.store.$emit("preview",e)}},mutations:{select:function(t,e){if(console.log(t),console.log(e),t.uuid=e.uuid,-1===e.uuid)t.activeElement=t.page,t.type="page";else{var i=t.widgets.find(function(t){return t.uuid===e.uuid});console.log(i),t.activeElement=i,t.type=i.type}},initmove:function(t,e){t.startX=e.startX,t.startY=e.startY,t.originX=e.originX,t.originY=e.originY,t.moving=!0},stopmove:function(t){t.moving=!1},move:function(t,e){var i=t.activeElement,n=e.x-t.startX,a=e.y-t.startY,o=t.originX+Math.floor(100*n/t.zoom),s=t.originY+Math.floor(100*a/t.zoom);i.left=o>0?o:0,i.top=s>0?s:0},resize:function(t,e){var i,n=e.x-t.startX,a=e.y-t.startY;if("right"===e.type)return i=t.originX+Math.floor(100*n/t.zoom),void(t.activeElement.width=i>10?i:10);if("down"===e.type)return i=t.originX+Math.floor(100*a/t.zoom),void(t.activeElement.height=i>10?i:10);if("left"===e.type){var o=t.originX+Math.floor(100*n/t.zoom),s=t.originY-Math.floor(100*n/t.zoom);return t.activeElement.left=o>0?o:0,void(t.activeElement.width=s>10?s:10)}if("up"===e.type){var r=t.originX+Math.floor(100*a/t.zoom),l=t.originY-Math.floor(100*a/t.zoom);t.activeElement.top=r>0?r:0,t.activeElement.height=l>10?l:10}},copy:function(t,e){if("page"!==t.type){var i=Object.assign({},t.activeElement,{top:t.top,uuid:d("1234567890abcdef",10)});if(t.activeElement.isContainer){var n=t.activeElement.name;if(n){var a=n.split("-")[0]+"-"+t.counter;i.name=a;for(var o=0,s=t.widgets.length;o<s;o++)t.widgets[o].belong===n&&t.widgets.push(Object.assign({},t.widgets[o],{belong:a}));t.counter+=1}}t.widgets.push(i)}},updateSrollTop:function(t,e){t.top=e},zoom:function(t,e){t.zoom=e},initActive:function(t){t.activeElement=t.page},delete:function(t){if(console.log(t),"page"!==t.type){if(t.activeElement.isContainer)for(var e=t.activeElement.name,i=0;i<t.widgets.length;i++)t.widgets[i].belong===e&&t.widgets.splice(i,1);var n=t.widgets.findIndex(function(e){return e.uuid===t.uuid});t.widgets.splice(n,1),t.activeElement=t.page,t.uuid=-1}},addWidget:function(t,e){var i=e.data;void 0===i&&(i=null);var n=e.item,a={top:t.top,uuid:d("1234567890abcdef",10)},o=JSON.parse(JSON.stringify(n.setting));o.isContainer&&(o.name=a.uuid),i?i.forEach(function(e){t.widgets.push(Object.assign(o,e,a))}):t.widgets.push(Object.assign(o,a))},replaceImage:function(t,e){t.activeElement.width=e[0].width,t.activeElement.url=e[0].url},addContainerBackPic:function(t,e){t.activeElement.backPic=e[0].url,t.activeElement.backPicUrl=e[0].src,t.activeElement.width=e[0].width,t.activeElement.height=e[0].height},addBackPic:function(t,e){t.activeElement.backPic=e[0].url,t.activeElement.backPicUrl=e[0].src},addAnimation:function(t){t.animation.push({name:"",duration:3,delay:0,iteration:1,timing:"linear",direction:"normal",fill:"none",keyframes:[{stop:0,css:""}]})},addkeyframe:function(t,e){t.animation.map(function(t){t.name===e&&t.keyframes.push({stop:0,css:""})})},setAnimation:function(t,e){t.playState=e},updateData:function(t,e){var i=e.uuid,n=e.key,a=e.value;t.widgets.find(function(t){return t.uuid===i})[n]=a}}}),p={beforeCreate:function(){this.$vpd=u}},m={},h=function(t,e){void 0===e&&(e={}),h.installed||(v=Object.assign({},a,e.widgets),Object.keys(v).forEach(function(e){if(t.component(e,v[e]),t.component(e,t.extend(v[e]).extend(p)),v[e].panel){var i=Object.assign({},v[e].panel,{type:e});t.component(i.name,t.extend(i).extend(p)),m[i.name]=i,delete v[e].panel}}))},f={install:h,getWidgets:function(){return v},getWidgetStyle:function(){return m}};var g=function(t,e,i,n,a,o,s,r,l,c){"boolean"!=typeof s&&(l=r,r=s,s=!1);var v,d="function"==typeof i?i.options:i;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,a&&(d.functional=!0)),n&&(d._scopeId=n),o?(v=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=v):e&&(v=s?function(){e.call(this,c(this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),v)if(d.functional){var u=d.render;d.render=function(t,e){return v.call(e),u(t,e)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,v):[v]}return i},_=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"header"},[i("div",{staticClass:"navbar container grid-xl"},[t._m(0),t._v(" "),i("section",{staticClass:"navbar-section"},[i("button",{staticClass:"navbar-btn",on:{click:t.dele}},[t._v("删除選中組件")]),t._v(" "),i("button",{staticClass:"navbar-btn",on:{click:t.preview}},[t._v("預覽")]),t._v(" "),i("button",{staticClass:"navbar-btn",on:{click:t.save}},[t._v("保存")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"logo navbar-section"},[e("span",[this._v("自定義頁面")])])}]},void 0,{mixins:[p],computed:{show:function(){return"page"!==this.$vpd.state.type}},mounted:function(){var t=this;document.addEventListener("keyup",function(e){e.stopPropagation(),(e.ctrlKey||e.metaKey)&&67===e.keyCode&&t.copyWidget()},!0),document.addEventListener("keyup",function(e){e.stopPropagation(),46===e.keyCode&&t.dele()},!0),document.addEventListener("keyup",function(e){e.stopPropagation(),(e.ctrlKey||e.metaKey)&&83===e.keyCode&&t.save()},!0)},methods:{save:function(){this.$vpd.dispatch("save")},preview:function(){this.$vpd.dispatch("preview")},copyWidget:function(){this.$vpd.commit("copy")},dele:function(){this.$vpd.commit("delete")}}},"data-v-4e79a04c",!1,void 0,void 0,void 0),y={methods:{initmovement:function(t){var e=this.$vpd.state.activeElement;this.$vpd.commit("initmove",{startX:t.pageX,startY:t.pageY,originX:e.left,originY:e.top}),document.addEventListener("mousemove",this.handlemousemove,!0),document.addEventListener("mouseup",this.handlemouseup,!0)},handlemousemove:function(t){t.stopPropagation(),t.preventDefault(),this.$vpd.commit("move",{x:t.pageX,y:t.pageY})},handlemouseup:function(){document.removeEventListener("mousemove",this.handlemousemove,!0),document.removeEventListener("mouseup",this.handlemouseup,!0),this.$vpd.commit("stopmove")}}};var b=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu-bar"},[i("details",{attrs:{open:""}},[i("summary",[i("vpd-icon",{attrs:{name:"list"}}),t._v("可用组件")],1),t._v(" "),i("ul",{staticClass:"widget-list columns",on:{mousedown:t.updateSrollTop}},t._l(t.widgets,function(e){return i("li",{key:e.name,staticClass:"menu-item column col-6",on:{click:function(i){t.addWidget(i,e)}}},[i("vpd-icon",{attrs:{svg:e.icon,title:e.title}}),t._v(" "),i("span",{staticClass:"menu-caption"},[t._v(t._s(e.title))])],1)}),0)]),t._v(" "),i("details",[i("summary",[i("vpd-icon",{attrs:{name:"layers"}}),t._v("已加组件")],1),t._v(" "),i("ul",{staticClass:"layer-list"},t._l(t.layers,function(e){return i("li",{key:e.uuid,class:{"layer-active":e===t.activeElement},on:{click:function(i){t.activeLayer(i,e)}}},[t._v(t._s(t.getWidgetTitle(e.type)))])}),0)])])},staticRenderFns:[]},void 0,{mixins:[y,p],props:["zoom"],data:function(){return{}},computed:{widgets:function(){var t=f.getWidgets();return delete t["braid-bg"],delete t["braid-container"],delete t["braid-pic"],t},layers:function(){return this.$vpd.state.widgets},activeElement:function(){return this.$vpd.state.activeElement}},methods:{addWidget:function(t,e){if((console.log(e),console.log(this.layers),"braid-top-bar"===e.name||"braid-bottom-bar"===e.name||"braid-browser"===e.name)&&this.layers.find(function(t){return t.type===e.name}))return;this.$vpd.dispatch("addWidget",e)},updateSrollTop:function(){var t=document.getElementById("viewport").scrollTop/this.zoom*100;this.$vpd.commit("updateSrollTop",t)},activeLayer:function(t,e){this.$vpd.commit("select",{uuid:e.uuid});var i,n=document.querySelector("#viewport"),a=n.querySelector("[data-uuid='"+e.uuid+"']");!a||(i=a.getBoundingClientRect()).top<window.innerHeight&&i.left<window.innerWidth&&i.right>0||(n.scrollTop=(function(t){var e=0,i=0;do{e+=t.offsetTop||0,i+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:e,left:i}}(a).top-50)*this.zoom/100)},getWidgetTitle:function(t){return this.widgets[t].title||""}}},"data-v-8299d76e",!1,void 0,void 0,void 0),w=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.activeElement.page&&1===t.tab?i("div",{staticClass:"panel-wrap"},[i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("vpd-icon",{attrs:{name:"type"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("页面名称")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.title,expression:"activeElement.title"}],attrs:{type:"text"},domProps:{value:t.activeElement.title},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"title",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("vpd-icon",{attrs:{name:"smartphone"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("页面高度")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.height,expression:"activeElement.height"}],attrs:{type:"text"},domProps:{value:t.activeElement.height},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"height",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("vpd-icon",{attrs:{name:"droplet"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("页面背景色")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.backgroundColor,expression:"activeElement.backgroundColor"}],attrs:{type:"color"},domProps:{value:t.activeElement.backgroundColor},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"backgroundColor",e.target.value)}}})])],1)]):t._e()},staticRenderFns:[]},void 0,{props:["activeElement","tab"]},"data-v-6fa3fcf8",!1,void 0,void 0,void 0),C=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.activeElement.page||1!==t.tab?t._e():i("div",{staticClass:"panel-wrap"},[i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"layers"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("層級")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.z))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("vpd-slider",{attrs:{step:1,max:20},model:{value:t.activeElement.z,callback:function(e){t.$set(t.activeElement,"z",e)},expression:"activeElement.z"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"more-horizontal"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("寬度")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.width))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("vpd-slider",{attrs:{step:1,max:750},model:{value:t.activeElement.width,callback:function(e){t.$set(t.activeElement,"width",e)},expression:"activeElement.width"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"more-vertical"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("高度")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.height))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("vpd-slider",{attrs:{step:1,max:t.height},model:{value:t.activeElement.height,callback:function(e){t.$set(t.activeElement,"height",e)},expression:"activeElement.height"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"arrow-right"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("橫坐標")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.left))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("vpd-slider",{attrs:{step:1,max:750},model:{value:t.activeElement.left,callback:function(e){t.$set(t.activeElement,"left",e)},expression:"activeElement.left"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"arrow-down"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("縱坐標")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.top))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("vpd-slider",{attrs:{step:1,max:t.height},model:{value:t.activeElement.top,callback:function(e){t.$set(t.activeElement,"top",e)},expression:"activeElement.top"}})],1)],1),t._v(" "),t._l(t.widgetStyle,function(e,n){return e.type===t.activeElement.type?i(t.widgetStyle[n],{key:n,tag:"component",attrs:{"active-element":t.activeElement}}):t._e()})],2)},staticRenderFns:[]},void 0,{name:"PanelStyle",mixins:[p],props:["activeElement","tab"],data:function(){return{}},computed:{widgetStyle:function(){return f.getWidgetStyle()},height:function(){return this.$vpd.state.page.height},containerName:function(){var t=[];return this.$vpd.state.widgets.map(function(e){return e.isContainer&&e.name&&t.push(e.name)}),t}}},"data-v-77ccb530",!1,void 0,void 0,void 0),x=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return 2===t.tab?i("div",{staticClass:"panel-wrap"},[i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"link"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("点击时")])],1),t._v(" "),void 0!==t.activeElement.href?i("div",{staticClass:"panel-row"},[i("div",{staticClass:"panel-label"},[t._v("链接至")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.href,expression:"activeElement.href"}],attrs:{type:"text",placeholder:"绝对路径，以https://开头"},domProps:{value:t.activeElement.href},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"href",e.target.value)}}})])]):t._e()]):t._e()},staticRenderFns:[]},void 0,{props:["activeElement","tab"]},void 0,!1,void 0,void 0,void 0);function E(t,e,i,n){void 0===n&&(n=!0);var a=[t];["duration","timing","delay","iteration","direction","fill"].map(function(t){void 0!==e[t]&&("duration"===t||"delay"===t?a.push(e[t]+"s"):"iteration"===t?a.push(0===e[t]?"infinite":e[t]):a.push(e[t]))});var o="animation: "+a.join(" ")+";",s=[];n?i.map(function(t){s.push("\t"+t.stop+"% {\n"),s.push("\t\t"+t.css+"\n\t}\n")}):i.map(function(t){s.push(t.stop+"% {"),s.push(t.css+"}")});var r=s.join("");return"\n.anm-"+t+" {\n  -webkit-"+o+"\n  "+o+"\n}\n@keyframes "+t+" {\n"+r+"}\n@-webkit-keyframes "+t+" {\n"+r+"}\n"}var $=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return 3===t.tab?i("div",{staticClass:"panel-wrap"},[i("button",{staticClass:"btn btn-action float-right mx-1"},[i("vpd-icon",{attrs:{name:"plus"},on:{click:t.addAnimation}})],1),t._v(" "),i("button",{staticClass:"btn btn-action float-right"},[i("vpd-icon",{attrs:{name:"play"},on:{click:t.play}})],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"film"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("选择动画")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentName,expression:"currentName"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.currentName=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("无")]),t._v(" "),t._l(t.animationNames,function(e,n){return i("option",{key:n,domProps:{value:e}},[t._v(t._s(e))])})],2)])],1),t._v(" "),t.currentAnimation?i("div",[i("hr"),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"type"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("动画名称")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.currentAnimation.name,expression:"currentAnimation.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"动画名称，仅限英文"},domProps:{value:t.currentAnimation.name},on:{input:[function(e){e.target.composing||t.$set(t.currentAnimation,"name",e.target.value.trim())},t.validateName],blur:function(e){return t.$forceUpdate()}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"clock"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("动画时长")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentAnimation.duration,expression:"currentAnimation.duration",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"请输入大于0的数字"},domProps:{value:t.currentAnimation.duration},on:{input:function(e){e.target.composing||t.$set(t.currentAnimation,"duration",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"watch"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("动画延迟")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentAnimation.delay,expression:"currentAnimation.delay",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"请输入不小于0的数字"},domProps:{value:t.currentAnimation.delay},on:{input:function(e){e.target.composing||t.$set(t.currentAnimation,"delay",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"repeat"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("动画循环")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentAnimation.iteration,expression:"currentAnimation.iteration",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"输入0表示无限循环"},domProps:{value:t.currentAnimation.iteration},on:{input:function(e){e.target.composing||t.$set(t.currentAnimation,"iteration",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"activity"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("缓动函数")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentAnimation.timing,expression:"currentAnimation.timing"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentAnimation,"timing",e.target.multiple?i:i[0])}}},[i("option",[t._v("linear")]),t._v(" "),i("option",[t._v("ease")]),t._v(" "),i("option",[t._v("ease-in")]),t._v(" "),i("option",[t._v("ease-out")]),t._v(" "),i("option",[t._v("ease-in-out")])])])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"rotate-cw"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("动画方向")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentAnimation.direction,expression:"currentAnimation.direction"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentAnimation,"direction",e.target.multiple?i:i[0])}}},[i("option",[t._v("normal")]),t._v(" "),i("option",[t._v("reverse")]),t._v(" "),i("option",[t._v("alternate")]),t._v(" "),i("option",[t._v("alternate-reverse")])])])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"chevrons-down"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("fill-mode")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentAnimation.fill,expression:"currentAnimation.fill"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentAnimation,"fill",e.target.multiple?i:i[0])}}},[i("option",[t._v("none")]),t._v(" "),i("option",[t._v("forwards")]),t._v(" "),i("option",[t._v("backwards")]),t._v(" "),i("option",[t._v("both")])])])],1),t._v(" "),i("hr"),t._v(" "),t._l(t.currentAnimation.keyframes,function(e,n){return i("div",{key:n},[i("div",{staticClass:"panel-row"},[i("vpd-icon",{attrs:{name:"stop-circle"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("stop - "+t._s(n))]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(e.stop)+"%")]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("vpd-slider",{attrs:{step:1},model:{value:e.stop,callback:function(i){t.$set(e,"stop",i)},expression:"val.stop"}})],1)],1),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.css,expression:"val.css"}],attrs:{placeholder:"IMPORTANT: use rem, not px"},domProps:{value:e.css},on:{input:function(i){i.target.composing||t.$set(e,"css",i.target.value)}}}),t._v(" "),i("div",{staticStyle:{margin:"10px 0 0 20px"}},[n+1===t.currentAnimation.keyframes.length?i("button",{staticClass:"btn btn-primary",on:{click:t.addkeyframe}},[i("vpd-icon",{attrs:{name:"plus"}}),t._v(" 添加新的动画\n        ")],1):t._e()])])})],2):t._e()]):t._e()},staticRenderFns:[]},void 0,{name:"PanelAnimation",mixins:[p],props:["activeElement","tab"],data:function(){return{currentName:"",currentAnimation:null}},computed:{animationNames:function(){var t=[];return this.$vpd.state.animation.map(function(e){return t.push(e.name)}),t}},watch:{currentName:function(t){void 0!==this.activeElement.animationName&&(this.activeElement.animationName=t),this.getCurrentAnimation(t)},activeElement:function(t){void 0!==t.animationName?this.currentName=t.animationName:this.currentName=""}},methods:{addAnimation:function(){this.$vpd.state.animation.some(function(t){return""===t.name})?this.$vpd.$emit("notify",{info:"还有未命名动画，请先命名"}):(this.$vpd.commit("addAnimation"),this.currentName="",this.getCurrentAnimation(""))},getCurrentAnimation:function(t){var e=this.$vpd.state.animation.filter(function(e){return e.name===t});this.currentAnimation=e[0]},addkeyframe:function(){var t=this.currentAnimation.name;""!==t?this.$vpd.commit("addkeyframe",t):this.$vpd.$emit("notify",{info:"请先为动画命名"})},validateName:function(t){var e=this,i=t.target.value;""!==i&&(/^[a-zA-Z]/.test(i)||(this.$nextTick(function(){e.currentAnimation.name=""}),this.$vpd.$emit("notify",{info:"动画名称必须以英文开头"})),/\W/g.test(i)&&(this.$nextTick(function(){e.currentAnimation.name=i.replace(/\W/g,"")}),this.$vpd.$emit("notify",{info:"请勿使用英文和数字以外的字符"})))},play:function(){var t=this;this.$vpd.commit("setAnimation",!1),setTimeout(function(){var e=t.$vpd.state.animation;0!==e.length&&(e.map(function(t){var e="anm-"+t.name,i=document.getElementById(e);if(i)i.innerHTML=E(t.name,t,t.keyframes,!1);else{var n=document.createElement("style");n.id=e,n.innerHTML=E(t.name,t,t.keyframes,!1),document.head.append(n)}}),t.$vpd.commit("setAnimation",!0))},200)}}},"data-v-4c9ae232",!1,void 0,void 0,void 0),k=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"tab tab-block panel-tab"},[i("li",{staticClass:"tab-item",class:{active:1===t.activeTab},on:{click:function(e){t.activeTab=1}}},[i("a",[t._v("参数")])])]),t._v(" "),i("page",{attrs:{"active-element":t.activeElement,tab:t.activeTab}}),t._v(" "),i("appearance",{attrs:{"active-element":t.activeElement,tab:t.activeTab}}),t._v(" "),i("event",{attrs:{"active-element":t.activeElement,tab:t.activeTab}}),t._v(" "),i("animation",{attrs:{"active-element":t.activeElement,tab:t.activeTab}})],1)},staticRenderFns:[]},void 0,{components:{page:w,appearance:C,event:x,animation:$},mixins:[p],data:function(){return{activeTab:1}},computed:{activeElement:function(){return this.$vpd.state.activeElement}}},"data-v-b55d7bdc",!1,void 0,void 0,void 0),A=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.moving,expression:"moving"}],staticClass:"guides"},[t._l(t.horiz,function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.attachHoriz(e.val),expression:"attachHoriz(val.val)"}],key:e.id,staticClass:"horiz",style:{top:e.val+"px"}})}),t._v(" "),t._l(t.verti,function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.attachVerti(e.val),expression:"attachVerti(val.val)"}],key:e.id,staticClass:"verti",style:{left:e.val+"px"}})})],2)},staticRenderFns:[]},void 0,{name:"RefLines",mixins:[p],computed:{moving:function(){return this.$vpd.state.moving},guides:function(){var t=this.$vpd.state,e=[],i=t.uuid;return t.widgets.forEach(function(t){t.hasGuide&&t.uuid===i||t.hasGuide&&"page"!==t.belong||e.push({uuid:t.uuid,width:t.width,height:t.height,top:t.top,left:t.left})}),e},horiz:function(){var t=this.guides,e=[];return t.forEach(function(t){var i=t.top,n=i+t.height;e.indexOf(i)<0&&0!==i&&e.push({id:"horiz-"+t.uuid+"-"+i,val:i}),e.indexOf(n)<0&&e.push({id:"horiz-"+t.uuid+"-"+n,val:n})}),e},verti:function(){var t=this.guides,e=[375];return t.forEach(function(t){var i=t.left,n=i+t.width;e.indexOf(i)<0&&0!==i&&e.push({id:"verti-"+t.uuid+"-"+i,val:i}),e.indexOf(n)<0&&n<750&&e.push({id:"verti-"+t.uuid+"-"+n,val:n})}),e},horizontal:function(){var t=this.$vpd.state.activeElement;if(t){var e=Math.round(t.height);return[t.top,t.top+e]}return[]},vertical:function(){var t=this.$vpd.state.activeElement;if(t){var e=Math.round(t.width/2);return[t.left,t.left+e,t.left+2*e]}return[]}},methods:{attachHoriz:function(t){return this.horizontal.some(function(e){return Math.abs(e-t)<=1})},attachVerti:function(t){return this.vertical.some(function(e){return Math.abs(e-t)<=1})}}},"data-v-1beb902a",!1,void 0,void 0,void 0),S=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.elm,expression:"elm"}]},[i("div",{staticClass:"verti",style:{height:t.elm.height+"px",top:t.elm.top+"px",left:t.elm.left+"px"},on:{mousedown:function(e){return t.handlemousedown(e,"left","left","width")}}},[i("div",{staticClass:"square"})]),t._v(" "),i("div",{staticClass:"verti",style:{height:t.elm.height+"px",top:t.elm.top+"px",left:t.elm.left+t.elm.width+"px"},on:{mousedown:function(e){return t.handlemousedown(e,"right","width")}}},[i("div",{staticClass:"square"})]),t._v(" "),i("div",{staticClass:"horiz",style:{width:t.elm.width+"px",top:t.elm.top+"px",left:t.elm.left+"px"},on:{mousedown:function(e){return t.handlemousedown(e,"up","top","height")}}},[i("div",{staticClass:"square"})]),t._v(" "),i("div",{staticClass:"horiz",style:{width:t.elm.width+"px",top:t.elm.top+t.elm.height+"px",left:t.elm.left+"px"},on:{mousedown:function(e){return t.handlemousedown(e,"down","height")}}},[i("div",{staticClass:"square"})])])},staticRenderFns:[]},void 0,{mixins:[p],data:function(){return{type:""}},computed:{elm:function(){var t=this.$vpd.state.activeElement;return t.resizable&&"page"===t.belong?t:""}},methods:{handlemousedown:function(t,e,i,n){t.stopPropagation(),this.type=e,this.$vpd.commit("initmove",{startX:t.pageX,startY:t.pageY,originX:this.elm[i],originY:this.elm[n]}),document.addEventListener("mousemove",this.handlemousemove,!0),document.addEventListener("mouseup",this.handlemouseup,!0)},handlemousemove:function(t){t.stopPropagation(),t.preventDefault(),this.$vpd.commit("resize",{x:t.pageX,y:t.pageY,type:this.type})},handlemouseup:function(){document.removeEventListener("mousemove",this.handlemousemove,!0),document.removeEventListener("mouseup",this.handlemouseup,!0),this.$vpd.commit("stopmove")}}},"data-v-522a8fa8",!1,void 0,void 0,void 0),N=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"holder",attrs:{id:"viewport"}},[i("div",{staticClass:"screen",style:{backgroundColor:t.backgroundColor,height:t.height+"px",transform:"scale("+t.zoom/100+")"},on:{dblclick:t.replaceImage}},[t._l(t.widgetStore,function(e){return i(e.type,{key:e.uuid,tag:"component",staticClass:"layer",class:{"g-active":t.id===e.uuid},attrs:{"data-title":e.type,val:e,h:t.height,w:750,"data-type":e.type,"data-uuid":e.uuid,"play-state":t.playState}},t._l(t.getChilds(e.name),function(e){return i(e.type,{key:e.uuid,tag:"component",staticClass:"layer layer-child",class:{"g-active":t.id===e.uuid},attrs:{"data-title":e.type,val:e,h:t.height,w:750,"data-type":e.type,"data-uuid":e.uuid,"play-state":t.playState}})}),1)}),t._v(" "),i("ref"),t._v(" "),i("control")],2)])},staticRenderFns:[]},void 0,{name:"Viewport",components:{ref:A,control:S},mixins:[y,p],props:["zoom"],data:function(){return{}},computed:{widgetStore:function(){return this.$vpd.state.widgets.filter(function(t){return"page"===t.belong})},height:function(){return this.$vpd.state.page.height},backgroundColor:function(){return this.$vpd.state.page.backgroundColor},id:function(){return this.$vpd.state.uuid},playState:function(){return this.$vpd.state.playState}},mounted:function(){var t=this;document.getElementById("viewport").addEventListener("mousedown",this.handleSelection,!1),document.addEventListener("keydown",function(e){e.stopPropagation();var i=t.$vpd.state.activeElement;if(37!==e.keyCode||!i.left)return 38===e.keyCode&&i.top?(e.preventDefault(),void(i.top-=1)):void(39===e.keyCode&&i.left?i.left+=1:40===e.keyCode&&i.top&&(e.preventDefault(),i.top+=1));i.left-=1},!0)},methods:{handleSelection:function(t){console.log(t);var e=t.target;if(e.getAttribute("data-type")){var i=e.getAttribute("data-uuid");this.$vpd.commit("select",{uuid:i||-1}),"page"===(e=this.$vpd.state.activeElement).belong&&e.dragable&&this.initmovement(t)}else this.$vpd.commit("select",{uuid:-1})},replaceImage:function(t){var e=this;this.$vpd.state.activeElement.isUpload&&this.$vpd.$emit("upload",function(t){e.$vpd.commit("replaceImage",t)})},getChilds:function(t){return this.$vpd.state.widgets.filter(function(e){return e.belong===t})}}},"data-v-d060a6d8",!1,void 0,void 0,void 0);var z,P=g({render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"drop"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"toast",class:this.klass},[this._v(this._s(this.info))])])},staticRenderFns:[]},void 0,{name:"VpdToast",mixins:[p],data:function(){return{info:"",type:"warning",show:!1}},computed:{klass:function(){return{"toast-success":"success"===this.type,"toast-warning":"warning"===this.type,"toast-error":"error"===this.type}}},mounted:function(){var t=this;this.$vpd.$on("notify",function(e){t.notify(e.info,e.type)})},methods:{notify:function(t,e){var i=this;this.show||(this.info=t||"Success!",e&&(this.type=e),this.show=!0,setTimeout(function(){i.show=!1},2e3))}}},"data-v-db1d0c56",!1,void 0,void 0,void 0),M=g({render:function(){var t=this.$createElement;return(this._self._c||t)("input",{staticStyle:{display:"none"},attrs:{id:"uploader",multiple:!!this.multiple&&"multiple",type:"file",accept:"image/png, image/jpeg, image/gif"},on:{change:this.handleUpload}})},staticRenderFns:[]},void 0,{name:"VpdUploader",mixins:[p],props:{upload:Function,uploadOption:Object},data:function(){return{multiple:!1,uploader:null,cb:null}},computed:{top:function(){return this.$vpd.state.top}},mounted:function(){var t=this;this.uploader=document.getElementById("uploader"),this.$vpd.$on("upload",function(e,i){t.multiple=!!i,t.cb=e,setTimeout(function(){t.uploader.click()},0)})},methods:{handleUpload:function(){var t=this,e=this.uploader.files;e&&0!==e.length&&(e=Array.prototype.slice.call(this.uploader.files),(this.upload||this.defaultUpload)(e).then(function(e){console.log("status: ",e.status),new Promise(function(i){t.handleLoadQueue(i,e.files)()}).then(function(e){t.cb(e)})}))},defaultUpload:function(t){if(this.uploadOption.url){var e=new FormData;return t.forEach(function(t){return e.append("file[]",t)}),fetch(this.uploadOption.url,{method:"POST",body:e})}alert("请配置图片上传api地址")},handleLoadQueue:function(t,e){var i=this,n=0,a=e.length,o=[],s=function(){var r=window.URL.createObjectURL(e[n]);new Promise(function(t){i.getImageWidth(r,t)}).then(function(l){o.push({width:l.w,height:l.h,top:i.top,url:r,src:"images/"+e[n].name}),++n===a?t(o):s()})};return s},getImageWidth:function(t,e){var i=new Image;i.src=t,i.onload=function(){e({w:Math.round(i.width),h:Math.round(i.height)})}}}},void 0,!1,void 0,void 0,void 0),R=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"mu-lisder-wrapper":t.tuning}},[i("div",{staticClass:"mu-slider",class:t.sliderClass,on:{focus:t.handleFocus,blur:t.handleBlur,mousedown:t.handleMouseDown,mouseup:t.handleMouseUp}},[i("input",{attrs:{type:"hidden"},domProps:{value:t.inputValue}}),t._v(" "),i("div",{staticClass:"mu-slider-track"}),t._v(" "),i("div",{staticClass:"mu-slider-fill",style:t.fillStyle}),t._v(" "),i("div",{staticClass:"mu-slider-thumb",style:t.thumbStyle})]),t._v(" "),t.tuning?i("div",{staticClass:"mu-increment",on:{mousedown:function(e){return e.stopPropagation(),t.increase(e)}}},[t._v("+")]):t._e(),t._v(" "),t.tuning?i("div",{staticClass:"mu-decrement",on:{mousedown:function(e){return e.stopPropagation(),t.decrease(e)}}},[t._v("-")]):t._e()])},staticRenderFns:[]},void 0,{name:"VpdSlider",props:{value:{type:[Number,String],default:0},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:Number,default:.1},tuning:{type:Boolean,default:!0}},data:function(){return{inputValue:this.value,active:!1,focused:!1,dragging:!1}},computed:{percent:function(){var t=(this.inputValue-this.min)/(this.max-this.min)*100;return t>100?100:t<0?0:t},fillStyle:function(){return{width:this.percent+"%"}},thumbStyle:function(){return{left:this.percent+"%"}},sliderClass:function(){return{zero:this.inputValue<=this.min,active:this.active}}},watch:{value:function(t){this.inputValue=t},inputValue:function(t){this.$emit("input",t)}},created:function(){this.handleDragMouseMove=this.handleDragMouseMove.bind(this),this.handleMouseEnd=this.handleMouseEnd.bind(this)},methods:{handleMouseDown:function(t){this.setValue(t),t.preventDefault(),document.addEventListener("mousemove",this.handleDragMouseMove),document.addEventListener("mouseup",this.handleMouseEnd),this.$el.focus(),this.onDragStart(t)},handleMouseUp:function(){this.active=!1},handleFocus:function(){this.focused=!0},handleBlur:function(){this.focused=!1},setValue:function(t){var e=this.$el,i=this.max,n=this.min,a=this.step,o=(t.clientX-e.firstElementChild.getBoundingClientRect().left)/e.firstElementChild.offsetWidth*(i-n);o=Math.round(o/a)*a+n,(o=parseFloat(o.toFixed(5)))>i?o=i:o<n&&(o=n),this.inputValue=o},onDragStart:function(t){this.dragging=!0,this.active=!0},onDragUpdate:function(t){var e=this;this.dragRunning||(this.dragRunning=!0,window.requestAnimationFrame(function(){e.dragRunning=!1,e.disabled||e.setValue(t)}))},onDragStop:function(t){this.dragging=!1,this.active=!1},handleDragMouseMove:function(t){this.onDragUpdate(t)},handleMouseEnd:function(t){document.removeEventListener("mousemove",this.handleDragMouseMove),document.removeEventListener("mouseup",this.handleMouseEnd),this.onDragStop(t)},increase:function(){this.inputValue>=this.max||(this.inputValue+=this.step)},decrease:function(){this.inputValue<=this.min||(this.inputValue-=this.step)}}},"data-v-4bc83544",!1,void 0,void 0,void 0),T=g({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app page-design-wrap"},[i("navbar"),t._v(" "),i("div",{staticClass:"body container grid-xl"},[i("div",{staticClass:"columns col-gapless"},[i("toolbar",{staticClass:"toolbar column",attrs:{zoom:t.zoom}}),t._v(" "),i("div",{staticClass:"viewport column"},[i("viewport",{attrs:{zoom:t.zoom}}),t._v(" "),i("div",{staticClass:"zoom-wrap"},[i("vpd-slider",{attrs:{value:t.zoom,step:1,tuning:!1},on:{input:t.dozoom}}),t._v(" "),i("div",{staticClass:"zoom-value"},[t._v(t._s(t.zoom)+"%")])],1)],1),t._v(" "),i("panel",{staticClass:"control-panel column"})],1)]),t._v(" "),i("vpd-uploader",{attrs:{upload:t.upload,"upload-option":t.uploadOption}}),t._v(" "),i("vpd-toast")],1)},staticRenderFns:[]},void 0,{name:"VuePageDesigner",components:(z={navbar:_,toolbar:b,panel:k,viewport:N},z[P.name]=P,z[M.name]=M,z[R.name]=R,z),mixins:[p],props:{value:Object,widgets:Object,upload:Function,uploadOption:Object},computed:{zoom:function(){return this.$vpd.state.zoom}},beforeCreate:function(){!function(t,e){var i=new XMLHttpRequest;if(!document.querySelector("#"+e)){var n=document.createElement("div");n.setAttribute("hidden",""),n.setAttribute("id",e),document.body.insertBefore(n,document.body.childNodes[0]),"withCredentials"in i&&(i.open("GET",t,!0),i.onload=function(){n.innerHTML=i.responseText},i.send())}}("//unpkg.com/vue-page-designer/dist/icons.svg","svgspriteit")},created:function(){var e=this;t.use(f,{widgets:this.widgets}),this.value&&this.$vpd.replaceState(this.value),this.$vpd.$on("save",function(){e.$emit("save",e.$vpd.state)}),this.$vpd.$on("preview",function(){e.$emit("preview",e.$vpd.state)})},mounted:function(){this.$vpd.commit("initActive")},methods:{dozoom:function(t){this.$vpd.commit("zoom",t)},changeActiveElement:function(t){this.$vpd.commit("select",{uuid:t||-1})}}},"data-v-762a5f94",!1,void 0,void 0,void 0),j=g({render:function(){var t=this.$createElement;return(this._self._c||t)("i",{staticClass:"icon svg-icon",attrs:{title:this.title},domProps:{innerHTML:this._s(this.icon)},on:{click:this.handleClick}})},staticRenderFns:[]},void 0,{name:"VpdIcon",props:{svg:String,title:String,name:String,options:Object},computed:{icon:function(){return this.svg||'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><use xlink:href="#'+this.name+'"></svg>'}},methods:{handleClick:function(){this.$emit("click")}}},"data-v-24edaffe",!1,void 0,void 0,void 0),O=function(t,e){void 0===e&&(e={}),t.component("VpdSlider",R),t.component("VpdIcon",j),t.component("VuePageDesigner",T)};return"undefined"!=typeof window&&window.Vue&&O(window.Vue),{install:O,VuePageDesigner:T}});
